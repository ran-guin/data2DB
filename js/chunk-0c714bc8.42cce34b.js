(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c714bc8"],{"62ad":function(t,a,e){"use strict";e("4160"),e("caad"),e("13d5"),e("45fc"),e("4ec9"),e("a9e3"),e("b64b"),e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("2ca0"),e("159b"),e("ddb0");var o=e("ade3"),n=e("5530"),s=(e("4b85"),e("2b0e")),r=e("d9f7"),i=e("80d2"),l=["sm","md","lg","xl"],c=function(){return l.reduce((function(t,a){return t[a]={type:[Boolean,String,Number],default:!1},t}),{})}(),u=function(){return l.reduce((function(t,a){return t["offset"+Object(i["E"])(a)]={type:[String,Number],default:null},t}),{})}(),d=function(){return l.reduce((function(t,a){return t["order"+Object(i["E"])(a)]={type:[String,Number],default:null},t}),{})}(),p={col:Object.keys(c),offset:Object.keys(u),order:Object.keys(d)};function x(t,a,e){var o=t;if(null!=e&&!1!==e){if(a){var n=a.replace(t,"");o+="-".concat(n)}return"col"!==t||""!==e&&!0!==e?(o+="-".concat(e),o.toLowerCase()):o.toLowerCase()}}var y=new Map;a["a"]=s["a"].extend({name:"v-col",functional:!0,props:Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({cols:{type:[Boolean,String,Number],default:!1}},c),{},{offset:{type:[String,Number],default:null}},u),{},{order:{type:[String,Number],default:null}},d),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,a){var e=a.props,n=a.data,s=a.children,i=(a.parent,"");for(var l in e)i+=String(e[l]);var c=y.get(i);return c||function(){var t,a;for(a in c=[],p)p[a].forEach((function(t){var o=e[t],n=x(a,t,o);n&&c.push(n)}));var n=c.some((function(t){return t.startsWith("col-")}));c.push((t={col:!n||!e.cols},Object(o["a"])(t,"col-".concat(e.cols),e.cols),Object(o["a"])(t,"offset-".concat(e.offset),e.offset),Object(o["a"])(t,"order-".concat(e.order),e.order),Object(o["a"])(t,"align-self-".concat(e.alignSelf),e.alignSelf),t)),y.set(i,c)}(),t(e.tag,Object(r["a"])(n,{class:c}),s)}})},a141:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-container",[e("h2",[t._v("Plot Data")]),t.xAxis||t.yAxis?e("h3",[e("span",{staticClass:"message"},[t._v(t._s(t.xAxis)+" ")]),e("span",[t._v("vs ")]),e("span",{staticClass:"message"},[t._v(t._s(t.yAxis))])]):t._e(),e("h3",[t.xAxis&&t.ColumnData[t.xAxis]?e("span",{staticClass:"highlight"},[t._v(t._s(t.ColumnData[t.xAxis].type)+" ")]):t._e(),t.xAxis||t.yAxis?e("span",[t._v("vs ")]):t._e(),t.yAxis&&t.ColumnData[t.yAxis]?e("span",{staticClass:"highlight"},[t._v(t._s(t.ColumnData[t.yAxis].type))]):t._e()]),e("hr"),e("v-row",[e("v-col",{attrs:{cols:"8"}},[e("v-tabs",{model:{value:t.define,callback:function(a){t.define=a},expression:"define"}},[e("v-tab",{key:"x",attrs:{ripple:""}},[t._v("X-Axis")]),e("v-tab-item",{key:"x"},[e("p"),e("v-container",{staticStyle:{border:"1px solid black"}},[e("div",[e("v-row",{staticClass:"justify-space-around"},[e("v-col",[e("h3",[t._v("Select X Axis")]),e("v-radio-group",{model:{value:t.xAxis,callback:function(a){t.xAxis=a},expression:"xAxis"}},t._l(t.Summary.labels,(function(a){return e("v-radio",{attrs:{value:a.text,label:a.text},on:{click:t.loadXAxis}})})),1)],1)],1)],1)])],1),e("v-tab",{key:"Y",attrs:{ripple:""}},[t._v("Y-Axis")]),e("v-tab-item",{key:"Y"},[e("p"),e("v-row",[e("v-col",{attrs:{cols:"8"}},[e("v-container",{staticStyle:{border:"1px solid black"}},[e("v-row",{staticClass:"justify-space-around"},[e("v-col",[e("h3",[t._v("Y Axis")]),e("v-radio-group",{model:{value:t.yAxis,callback:function(a){t.yAxis=a},expression:"yAxis"}},t._l(t.Summary.labels,(function(a){return e("v-radio",{attrs:{value:a.text,label:a.text},on:{click:t.loadYAxis}})})),1)],1),e("v-col",[e("h3",[t._v("Operator")]),e("v-radio-group",{model:{value:t.yOperator,callback:function(a){t.yOperator=a},expression:"yOperator"}},t._l(t.yOperators,(function(a){return e("v-radio",{attrs:{label:a,value:a},on:{click:t.loadYOperator}})})),1)],1),e("v-col",[e("h3",[t._v("Group (optional)")]),e("v-radio-group",{model:{value:t.yColumn,callback:function(a){t.yColumn=a},expression:"yColumn"}},t._l(t.Summary.labels,(function(a){return e("v-radio",{attrs:{label:a.text,value:a.text},on:{click:t.loadYGroup}})})),1)],1)],1)],1)],1)],1)],1),e("v-tab",{key:"options",attrs:{ripple:""}},[t._v("Options")]),e("v-tab-item",{key:"opions"},[e("p"),e("v-row",[e("v-col",{attrs:{cols:"8"}},[e("v-container",{staticStyle:{border:"1px solid black"}},[e("PlotOptions",{attrs:{options:t.plotOptions,onUpdate:t.updateOptions}})],1)],1)],1)],1)],1)],1),e("v-col",{attrs:{cols:"4"}},[e("v-container",[e("p"),e("h2",{staticClass:"coloured"},[t._v("Plotting Options:")]),e("p"),t.yAxis&&t.ColumnData[t.xAxis]&&t.ColumnData[t.yAxis]?e("div",[e("h4",[t._v(t._s(t.ColumnData[t.yAxis].type)+" vs "+t._s(t.ColumnData[t.yAxis].type)+" options:")]),e("p",[e("v-btn",{staticClass:"btn-primary",attrs:{disabled:!("number"===t.ColumnData[t.yAxis].type)},on:{click:function(a){return t.plotRecords("bar")}}},[t._v("Plot Bar Chart")]),e("span",[t._v(" (yaxis = number)")])],1),e("p",[e("v-btn",{staticClass:"btn-primary",attrs:{disabled:!("number"===t.ColumnData[t.yAxis].type)},on:{click:function(a){return t.plotRecords("bar","horizontal")}}},[t._v("Plot Horizontal Bar Chart")]),e("span",[t._v(" (yaxis = number)")])],1),e("p",[e("v-btn",{staticClass:"btn-primary",attrs:{disabled:!("number"===t.ColumnData[t.yAxis].type)},on:{click:function(a){return t.plotRecords("pie")}}},[t._v("Plot Pie")]),e("span",[t._v(" (yaxis = number)")])],1),e("p",[e("v-btn",{staticClass:"btn-primary",attrs:{disabled:!("number"===t.ColumnData[t.xAxis].type&&"number"===t.ColumnData[t.yAxis].type)},on:{click:function(a){return t.plotRecords("scatter")}}},[t._v("Plot Scatter")]),e("span",[t._v(" (xaxis= number, yaxis = number)")])],1),e("p",[e("v-btn",{staticClass:"btn-primary",attrs:{disabled:!("number"===t.ColumnData[t.xAxis].type&&"number"===t.ColumnData[t.yAxis].type)},on:{click:function(a){return t.plotRecords("line")}}},[t._v("Plot Line")]),e("span",[t._v(" (xaxis= number, yaxis = number)")])],1)]):e("div",[e("b",[t._v("Choose x & y axes to enable plotting options...")])])])],1)],1),e("p"),e("v-container",{staticStyle:{border:"1px solid black"}},[e("h3",[t._v("Canvas")]),e("div",{staticClass:"canvas",attrs:{id:"d3Canvas"}})])],1)],1)},n=[],s=(e("d3b7"),e("96cf"),e("1da1")),r=e("20ac"),i=e("110e"),l=e("1585"),c=e("110f"),u=e("c689"),d=e("37cf"),p=e.n(d),x=function(){return e.e("chunk-2d0c550a").then(e.bind(null,"3f23"))},y={name:"DataPlot",data:function(){return{headers:[],selected:[],choose:null,define:"",xAxis:"",yAxis:"",yOperator:"",yColumn:"",yOperators:["Count","Sum","Avg"],plotOptions:{},plotType:null}},components:{PlotOptions:x},props:{},created:function(){console.log("load Plotting Page")},methods:{loadXAxis:function(){console.log("set X Axis to "+this.xAxis),this.define++},loadYAxis:function(){console.log("set Y Axis to "+this.yAxis)},loadYOperator:function(){console.log("group Y column by: "+this.yOperator)},loadYGroup:function(){console.log("group Y column by: "+this.yGroup)},testPlot:function(t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var o,n,s,u,d,x,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=p.a.gdp,n=o.xAxis,s=o.yAxis,console.debug("*** Plot: "+JSON.stringify(o)),e.next=6,i["a"].loadDataSet(o.dataset,n,s,a.yOperator,a.yGroup);case 6:u=e.sent,console.log("*** Filtered to: "+JSON.stringify(u)),d=n,x=n===s?a.yOperator:a.yOperator+" "+s,y=Object(r["a"])(),"circle"===t?(console.log("generate circle"),r["a"].addCircle({x:60,y:60,radius:50})):"rectangle"===t?(console.log("generate circle"),r["a"].addRectangle({})):"bar"===t?(console.log("generate bar chart"),l["a"].addBars({svg:y,data:u,xaxis:n,yaxis:x})):"pie"===t?(console.log("generate pie chart"),c["a"].addPie({svg:y,data:u,x:d,y:x})):"scatter"===t?(console.log("generate scatter chart"),c["a"].addPie({svg:y,data:u,x:d,y:x})):console.log(t+" plot not set up...");case 12:case"end":return e.stop()}}),e)})))()},plotRecords:function(t,a){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return console.log("Plot "+t+" : "+a),e.plotType=t,n=r["a"].initSvg({clear:!0,canvasHeight:600,canvasWidth:900}),"Count"===e.yOperator&&(e.yAxis=e.xAxis),o.next=6,i["a"].loadDataSet(e.Hashes,e.xAxis,e.yAxis,e.yOperator,e.yGroup).then((function(o){console.log("retrieved parsed dataset: "+JSON.stringify(o));var s=e.xAxis,r=e.xAxis===e.yAxis?e.yOperator:e.yOperator+" "+e.yAxis;if("bar"===t){console.log("generate bar chart for "+s+" vs "+r);var i={svg:n,data:o,xaxis:s,yaxis:r,orientation:a};console.log("send: "+JSON.stringify(i)),l["a"].addBars(i)}else"pie"===t?c["a"].addPie({svg:n,data:o,xaxis:s,yaxis:r}):"scatter"===t?u["a"].addScatter({svg:n,data:o,xaxis:s,yaxis:r}):console.log(t+" plotting not yet set up... ")}))["catch"]((function(t){console.log("err: "+t.message)}));case 6:case"end":return o.stop()}}),o)})))()},updateOptions:function(t){console.log("updated Options: "+JSON.stringify(t))}},computed:{Hashes:function(){return this.$store.state.hash.hashes||[]},Summary:function(){return this.$store.state.hash.summary||{}},ColumnData:function(){return this.$store.state.hash.columnData||{}}}},f=y,v=e("2877"),g=e("6544"),b=e.n(g),m=e("8336"),h=e("62ad"),A=e("a523"),O=e("67b6"),C=e("43a6"),S=e("0fd9"),_=e("71a3"),k=e("c671"),D=e("fe57"),w=Object(v["a"])(f,o,n,!1,null,null,null);a["default"]=w.exports;b()(w,{VBtn:m["a"],VCol:h["a"],VContainer:A["a"],VRadio:O["a"],VRadioGroup:C["a"],VRow:S["a"],VTab:_["a"],VTabItem:k["a"],VTabs:D["a"]})},c689:function(t,a,e){"use strict";var o=e("5698"),n=e("20ac");function s(t){const a=n["a"].setOptions("bar",t);return console.log("default settings: "+JSON.stringify(a)),a}function r(t){console.log("add scatter chart: "+JSON.stringify(t));var a=t.svg||this.initSvg(t),e=t.data;const s=n["a"].setOptions("scatter",t);console.log("default settings: "+JSON.stringify(s)),console.log("add data "+JSON.stringify(e));var r=s.color||o["k"](o["l"]),i=a.selectAll(".myScatter").data(e).enter().append("rect");console.log("Scatter: "+JSON.stringify(e));var l=s.ptSize||4;return e.map(t=>{console.log("X: "+s.xCol+": "+t[s.xCol]+" x "+s.scaleX+" = "+t[s.xCol]*s.scaleX),console.log("Y: "+s.yCol+": "+t[s.yCol]+" x "+s.scaleY+" = "+t[s.yCol]*s.scaleY)}),i.attr("x",t=>s.leftMargin+t[s.xCol]*s.scaleX-l/2).attr("y",t=>s.height-s.bottomMargin-t[s.yCol]*s.scaleY-l/2).attr("height",l).attr("width",l).attr("fill",(t,a)=>r(a)),i.on("mouseenter",(function(){o["m"](this).transition().duration(200).attr("opacity",.5),o["m"]("#xAxis").style("color","red")})).on("mouseout",(function(){o["m"](this).transition().duration(200).attr("opacity",1)})),console.log("added data"),this.addAxis(t),this.addLabels(t),(t.line||t.curve)&&this.addLine(t),t.embedData&&(console.log("embed data into element: "+t.embedData),n["a"].embedData(e,t.embedData)),{records:e.length,max:s.maxValue}}function i(t){var a=n["a"].setOptions("pie",t),e=t.svg,o=t.data;e.selectAll("text").data(o).enter().append("text").style("font-size",a.fontSize+"px")}function l(t){console.log("add axis: "+JSON.stringify(t));var a=t.svg||this.initSvg(t),e=t.data,s=n["a"].setOptions("scatter",t);a.append("text").attr("id","xAxis").attr("x",s.dataWidth/2).attr("y",s.height-s.fontSize).text(t.xaxis).style("font-weight","bold"),a.append("text").attr("id","yAxis").attr("y",s.fontSize).attr("x",-s.height/2).attr("transform","rotate(-90)").style("text-anchor","middle").text(t.yaxis).style("font-weight","bold");const r=o["j"]().domain([0,o["h"](e,(function(t){return+t[s.xCol]}))]).range([s.leftMargin,s.leftMargin+s.maxX*s.scaleX]);a.append("g").call(o["b"](r)).attr("transform","translate(0,"+(s.dataHeight+s.topMargin)+")");const i=o["j"]().domain([0,o["h"](e,(function(t){return+t[s.yCol]}))]).range([s.height-s.bottomMargin,s.height-s.bottomMargin-s.maxY*s.scaleY]);return a.append("g").call(o["c"](i)).attr("transform","translate("+s.leftMargin+", 0)"),!0}a["a"]={checkDefaults:s,addScatter:r,addLabels:i,addAxis:l}}}]);
//# sourceMappingURL=chunk-0c714bc8.42cce34b.js.map